.equipmentPage {
  max-width: 82rem;
}

.sceneSection {
  position: relative;
  overflow: hidden;
  min-height: min(82vh, 1040px);
  padding: 0;
  border: 1px solid rgba(94, 125, 150, 0.7);
  background: rgba(6, 10, 14, 0.86);
}

.sceneBackdrop {
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
}

.sceneBackdrop::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(180deg, rgba(5, 8, 12, 0.34), rgba(5, 8, 12, 0.72)),
    radial-gradient(circle at 15% 15%, rgba(82, 121, 151, 0.16), transparent 42%);
}

.sceneImage {
  object-fit: contain;
  object-position: center center;
  filter: saturate(0.92) contrast(0.95);
}

.sceneOverlay {
  position: relative;
  z-index: 2;
  min-height: inherit;
}

.wattVideoOverlay {
  position: absolute;
  width: clamp(170px, 18vw, 240px);
  height: clamp(220px, 28vw, 320px);
  z-index: 9;
  border: 1px solid rgba(91, 128, 158, 0.78);
  background: rgba(5, 11, 17, 0.86);
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.45);
  pointer-events: none;
}

.wattVideo {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
}

.wattVideoOverlayTopRight {
  top: 4.2rem;
  right: 0.9rem;
}

.wattVideoOverlayBottomLeft {
  bottom: 5.8rem;
  left: 0.9rem;
}

.wattVideoOverlayBottomRight {
  bottom: 5.8rem;
  right: 0.9rem;
}

.sceneHeader {
  position: absolute;
  left: 1rem;
  right: 1rem;
  top: 0.8rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.8rem;
}

.scenePlaque {
  margin: 0;
  border: 1px solid #5e7d96;
  background: rgba(7, 14, 22, 0.8);
  color: #c9dff2;
  padding: 0.36rem 0.58rem;
  font-family: "IBM Plex Mono", "Courier New", monospace;
  font-size: 0.72rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.statusChip {
  border: 1px solid rgba(95, 133, 163, 0.78);
  background: rgba(9, 18, 27, 0.82);
  color: #c0d8ec;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.32rem 0.5rem;
  font-family: "IBM Plex Mono", "Courier New", monospace;
  font-size: 0.66rem;
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

.statusChip strong {
  color: #ebf7ff;
  font-size: 0.72rem;
}

.sideRail {
  position: absolute;
  top: 5rem;
  bottom: 5.3rem;
  width: 7.5rem;
  border: 1px solid rgba(63, 93, 118, 0.74);
  background:
    linear-gradient(180deg, rgba(9, 16, 24, 0.82), rgba(6, 10, 15, 0.82)),
    repeating-linear-gradient(180deg, transparent 0 20px, rgba(90, 133, 163, 0.08) 20px 22px);
  padding: 0.56rem;
  display: grid;
  align-content: start;
  gap: 0.45rem;
}

.sideRail p {
  margin: 0;
  font-family: "IBM Plex Mono", "Courier New", monospace;
  color: #b4d5ee;
  font-size: 0.62rem;
  letter-spacing: 0.08em;
}

.sideRail span {
  display: block;
  font-family: "IBM Plex Mono", "Courier New", monospace;
  color: #7ea7c8;
  font-size: 0.57rem;
  letter-spacing: 0.03em;
}

.sideRailLeft {
  left: 0.7rem;
}

.sideRailRight {
  right: 0.7rem;
}

.hotspot {
  position: absolute;
  width: 24px;
  height: 24px;
  border-radius: 999px;
  border: 1px solid rgba(108, 168, 207, 0.95);
  background: rgba(6, 13, 20, 0.82);
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: transform 160ms ease, box-shadow 160ms ease, border-color 160ms ease;
}

.hotspot:hover {
  transform: scale(1.08);
  box-shadow: 0 0 12px rgba(85, 166, 219, 0.55);
}

.hotspotDot {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: #84bce4;
  box-shadow: 0 0 10px rgba(132, 188, 228, 0.8);
}

.hotspotLead {
  top: 24%;
  left: 61.5%;
}

.hotspotFloor {
  top: 62%;
  left: 50%;
}

.hotspotDecoder {
  top: 63%;
  left: 72%;
}

.hotspotDecoderLocked {
  border-color: #6f8091;
  box-shadow: none;
  cursor: not-allowed;
}

.hotspotDecoderLocked .hotspotDot {
  background: #7b8b9a;
  box-shadow: none;
}

.hotspotDecoderReady {
  border-color: #67d89d;
  box-shadow: 0 0 14px rgba(84, 214, 151, 0.45);
}

.hotspotDecoderIssued {
  border-color: #67d89d;
  box-shadow: 0 0 14px rgba(84, 214, 151, 0.45);
}

.hotspotHidden {
  opacity: 0;
  pointer-events: none;
}

.hotspotDecoderIssued .hotspotDot {
  background: #67d89d;
  box-shadow: 0 0 10px rgba(103, 216, 157, 0.75);
}

.decoderProp {
  position: absolute;
  top: 55.8%;
  left: 66.8%;
  width: 58px;
  display: grid;
  place-items: center;
  pointer-events: none;
  transform: rotate(-6deg);
  filter: drop-shadow(0 8px 14px rgba(0, 0, 0, 0.5));
  opacity: 0.92;
  transition: transform 220ms ease, filter 220ms ease, opacity 220ms ease;
}

.decoderPropImage {
  width: 100%;
  height: auto;
  display: block;
}

.decoderPropReady {
  filter: drop-shadow(0 0 9px rgba(94, 212, 151, 0.48)) drop-shadow(0 8px 12px rgba(0, 0, 0, 0.45));
}

.decoderPropIssued {
  filter: drop-shadow(0 0 10px rgba(112, 230, 174, 0.62));
  transform: rotate(-12deg) translateY(-16px) scale(0.84);
  opacity: 0;
}

.equipmentHotspot {
  position: absolute;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(107, 146, 178, 0.92);
  background: rgba(8, 15, 23, 0.86);
  color: #b8d6ee;
  font-family: "IBM Plex Mono", "Courier New", monospace;
  font-size: 0.53rem;
  letter-spacing: 0.03em;
  text-transform: uppercase;
  padding: 0.2rem 0.3rem;
  cursor: pointer;
}

.equipmentHotspot:hover {
  border-color: #95c3e7;
  color: #d6ecff;
}

.sceneItemWrap {
  position: absolute;
  transform: translate(-50%, -50%);
  z-index: 3;
  width: var(--item-size, 44px);
  transition: opacity 220ms ease, transform 220ms ease;
}

.sceneItemImage {
  width: 100%;
  height: auto;
  display: block;
  filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.45));
}

.sceneItemHotspot {
  position: absolute;
  inset: 0;
  border: 0;
  background: transparent;
  cursor: pointer;
}

.sceneItemCollected {
  opacity: 0;
  transform: translate(-50%, -58%);
  pointer-events: none;
}

.sceneControls {
  position: absolute;
  left: 1rem;
  bottom: 0.9rem;
  display: flex;
  gap: 0.45rem;
  align-items: center;
}

.replayButton {
  border: 1px solid #5b7d9d;
  background: rgba(9, 18, 28, 0.9);
  color: #bfdbf2;
  font-family: "IBM Plex Mono", "Courier New", monospace;
  font-size: 0.66rem;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  padding: 0.35rem 0.56rem;
  cursor: pointer;
}

.replayButton:disabled {
  cursor: default;
  opacity: 0.58;
}

.mobileConsole {
  display: none;
}

.comicBubble {
  position: absolute;
  z-index: 8;
  width: min(400px, 72vw);
  border: 2px solid #0e1114;
  border-radius: 18px;
  background: #f2f2ec;
  color: #1e2125;
  padding: 0.55rem 0.68rem 0.56rem;
  box-shadow: 0 12px 25px rgba(0, 0, 0, 0.38);
}

.comicBubble::after {
  content: "";
  position: absolute;
  width: 18px;
  height: 18px;
  background: #f2f2ec;
  border-right: 2px solid #0e1114;
  border-bottom: 2px solid #0e1114;
  transform: rotate(45deg);
}

.comicBubbleWatt {
  top: 9%;
  left: 35%;
}

.comicBubbleWatt::after {
  left: 66%;
  bottom: -10px;
}

.comicBubbleDouble {
  top: 49%;
  left: 12%;
}

.comicBubbleDouble::after {
  left: 26%;
  bottom: -10px;
}

.comicBubbleVision {
  top: 49%;
  left: 34%;
}

.comicBubbleVision::after {
  left: 64%;
  bottom: -10px;
}

.comicBubbleDecoder {
  top: 45%;
  left: 55%;
}

.comicBubbleDecoder::after {
  left: 82%;
  bottom: -10px;
}

.comicSpeaker {
  margin: 0;
  font-family: "IBM Plex Mono", "Courier New", monospace;
  font-size: 0.64rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #23282f;
}

.comicText {
  margin: 0.24rem 0 0;
  font-size: 0.94rem;
  line-height: 1.3;
}

.comicNext {
  margin-top: 0.42rem;
  border: 1px solid #2f3b48;
  background: #dbe8f4;
  color: #1f2a35;
  font-family: "IBM Plex Mono", "Courier New", monospace;
  font-size: 0.61rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 0.24rem 0.44rem;
  cursor: pointer;
}

.contentSection {
  margin-top: 0.9rem;
}

.sceneContent {
  position: relative;
  z-index: 1;
  padding: 1rem;
}

.sceneContent :global(h1) {
  margin-top: 0;
}

.fileDoorGrid {
  margin-top: 0.9rem;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 0.8rem;
  align-items: start;
}

.fileDoorCard {
  border: 1px solid #3f556a;
  background: rgba(9, 15, 22, 0.74);
  align-self: start;
}

.fileDoorHeader {
  border-bottom: 1px solid rgba(95, 127, 152, 0.4);
  padding: 0.62rem 0.72rem;
  display: flex;
  justify-content: space-between;
  gap: 0.5rem;
  align-items: baseline;
}

.fileDoorHeader h3 {
  margin: 0;
  font-size: 0.98rem;
}

.fileDoorButton {
  margin: 0;
  font-family: "IBM Plex Mono", "Courier New", monospace;
  font-size: 0.66rem;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  padding: 0.26rem 0.42rem;
  border: 1px solid #556f86;
  cursor: pointer;
}

.fileDoorButtonLocked {
  color: #bca4a4;
  background: rgba(40, 24, 27, 0.45);
  border-color: rgba(137, 96, 101, 0.72);
}

.fileDoorButtonUnlocked {
  color: #b8d6ee;
  background: rgba(13, 25, 37, 0.68);
}

.accessDenied {
  margin: 0.55rem 0 0.2rem;
  border: 1px solid rgba(157, 92, 95, 0.76);
  background: rgba(48, 19, 24, 0.48);
  color: #f0c7c9;
  padding: 0.45rem 0.62rem;
  font-family: "IBM Plex Mono", "Courier New", monospace;
  font-size: 0.68rem;
  letter-spacing: 0.04em;
}

.fileDoorLockMessage {
  margin: 0;
  padding: 0.8rem 0.72rem 0.95rem;
  color: #b6c4d2;
  border-top: 1px dashed rgba(135, 145, 154, 0.28);
}

.fileDoorBody {
  padding: 0.72rem;
}

.objectFrame {
  border: 1px solid #3b4d5f;
  background: rgba(6, 10, 14, 0.62);
  margin-bottom: 0.8rem;
  overflow: hidden;
  aspect-ratio: 1 / 1.35;
  display: grid;
  place-items: center;
  padding: 0.5rem;
}

.objectThumb {
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center center;
  display: block;
}

@media (max-width: 900px) {
  .sceneSection {
    min-height: 72vh;
  }

  .sceneHeader {
    top: 0.6rem;
    left: 0.7rem;
    right: 0.7rem;
  }

  .scenePlaque {
    font-size: 0.63rem;
    padding: 0.28rem 0.42rem;
  }

  .statusChip {
    font-size: 0.58rem;
    gap: 0.3rem;
    padding: 0.26rem 0.36rem;
  }

  .statusChip strong {
    font-size: 0.62rem;
  }

  .sideRail {
    display: none;
  }

  .hotspotLead {
    left: 70%;
  }

  .hotspotFloor {
    left: 52%;
  }

  .hotspotDecoder {
    left: 74%;
  }

  .equipmentHotspot {
    font-size: 0.47rem;
    padding: 0.16rem 0.22rem;
  }

  .sceneItemImage {
    width: calc(var(--item-size, 44px) * 0.8);
    margin: 0 auto;
  }

  .decoderProp {
    left: 67%;
    top: 58%;
    width: 50px;
  }

  .comicBubble {
    width: min(310px, 86vw);
    font-size: 0.88rem;
  }

  .comicBubbleWatt {
    top: 12%;
    left: 9%;
  }

  .comicBubbleDouble {
    top: 53%;
    left: 8%;
  }

  .comicBubbleVision {
    top: 57%;
    left: 8%;
  }

  .comicBubbleDecoder {
    top: 44%;
    left: 9%;
  }

  .comicBubbleWatt::after,
  .comicBubbleDouble::after,
  .comicBubbleVision::after,
  .comicBubbleDecoder::after {
    left: 16%;
  }

  .sceneControls {
    left: 0.7rem;
    bottom: 4.2rem;
    gap: 0.3rem;
  }

  .replayButton {
    font-size: 0.56rem;
    padding: 0.28rem 0.34rem;
  }

  .wattVideoOverlay {
    width: 38vw;
    height: 50vw;
    max-width: 190px;
    max-height: 260px;
  }

  .wattVideoOverlayTopRight {
    top: 3.2rem;
    right: 0.55rem;
  }

  .wattVideoOverlayBottomLeft {
    bottom: 4.8rem;
    left: 0.55rem;
  }

  .wattVideoOverlayBottomRight {
    bottom: 4.8rem;
    right: 0.55rem;
  }

  .mobileConsole {
    position: absolute;
    left: 0.65rem;
    right: 0.65rem;
    bottom: 0.62rem;
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 0.45rem;
  }

  .mobileConsole button {
    border: 1px solid rgba(93, 126, 153, 0.82);
    background: rgba(9, 17, 25, 0.88);
    color: #bfdcf2;
    font-family: "IBM Plex Mono", "Courier New", monospace;
    font-size: 0.58rem;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    padding: 0.33rem 0.24rem;
  }

  .fileDoorGrid {
    grid-template-columns: 1fr;
  }

  .sceneContent {
    padding: 0.85rem;
  }
}
